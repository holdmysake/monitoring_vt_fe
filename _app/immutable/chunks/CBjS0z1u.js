import{ag as i,ah as _,u as b,ai as m,k as h,I as v,aj as k}from"./DZj3V7hs.js";function E(a,l,u=l){var f=new WeakSet;i(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=t(a)?o(e):e,u(e),v!==null&&f.add(v),await _(),e!==(e=l())){var d=a.selectionStart,s=a.selectionEnd,n=a.value.length;if(a.value=e??"",s!==null){var c=a.value.length;d===s&&s===n&&c>n?(a.selectionStart=c,a.selectionEnd=c):(a.selectionStart=d,a.selectionEnd=Math.min(s,c))}}}),(h&&a.defaultValue!==a.value||b(l)==null&&a.value)&&(u(t(a)?o(a.value):a.value),v!==null&&f.add(v)),m(()=>{var r=l();if(a===document.activeElement){var e=k??v;if(f.has(e))return}t(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function t(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{E as b};
