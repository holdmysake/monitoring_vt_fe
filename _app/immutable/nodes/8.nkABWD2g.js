import"../chunks/DsnmJJEf.js";import"../chunks/B-aUsau7.js";import{o as Ut}from"../chunks/D6pxDlqU.js";import{p as Gt,l as O,a as Kt,s as l,f as E,t as B,c as a,g as e,b as Qt,m as p,d as o,u as g,r as s,i as Wt,n as G,h as ae}from"../chunks/DZj3V7hs.js";import{s as j}from"../chunks/6nlo_wlY.js";import{i as I}from"../chunks/C_Z-GkL4.js";import{e as $e,i as Xt}from"../chunks/DUh4gHIz.js";import{f as c,a as u,c as Je,t as mt,b as je}from"../chunks/Cmeh_zQv.js";import{b as Yt,a as se,r as pe,L as Zt,n as ke}from"../chunks/rUWiCfRG.js";import{s as gt}from"../chunks/zgFPYRNL.js";import{e as ce}from"../chunks/H2sK6pkz.js";import{b as ve}from"../chunks/CBjS0z1u.js";import{i as er}from"../chunks/B2kuW2zI.js";import{B as Ce}from"../chunks/0Mn_FxJU.js";import{S as tr,T as rr}from"../chunks/ChpPGvuo.js";import{c as ar}from"../chunks/P9oBW4u-.js";import{u as _t,C as _,P as ht}from"../chunks/D8Pee6gX.js";var sr=c("<option> </option>"),or=c(`<button class="px-3 py-1.5 rounded-lg text-sm font-medium
                        bg-gray-100 hover:bg-gray-200 text-gray-700
                        transition-colors duration-200 flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Reset Filter</button>`),lr=c('<span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> </span>'),nr=c('<span><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> </span>'),ir=c('<div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-gray-600">Filter aktif:</span> <!> <!></div>'),ur=c('<span class="text-xs"> </span>'),dr=c('<span class="text-xs"> </span>'),pr=c("<!> <!>",1),cr=c("<!> <!>",1),vr=c("<!> <!>",1),fr=je('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Simpan',1),mr=je('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Batal',1),gr=c('<tr class="bg-purple-50"><td class="px-6 py-4"><input type="text" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Nama rute"/></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9.]*" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Jarak (km)"/></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9]*" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Buffer"/></td><td class="px-6 py-4 text-center"><span class="text-sm text-gray-600"> </span></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><!> <!></div></td></tr>'),_r=c("<span> </span>"),hr=c('<span class="text-gray-400">-</span>'),xr=c('<span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"><svg class="w-3 h-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Ada File</span>'),br=c('<span class="text-gray-400">-</span>'),kr=c(`<tr class="hover:bg-gray-50 transition-colors duration-150"><td class="px-6 py-4"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-linear-to-br from-purple-100 to-indigo-200 flex items-center justify-center"><svg class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <span class="font-medium text-gray-900"> </span></div></td><td class="px-6 py-4"><span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700"> </span></td><td class="px-6 py-4"><!></td><td class="px-6 py-4 text-gray-700"> </td><td class="px-6 py-4 text-center"><!></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><button class="px-3 py-1.5 rounded-lg
                                            bg-purple-500 hover:bg-purple-600
                                            text-white text-sm font-medium
                                            shadow-sm hover:shadow-md
                                            transition-all duration-200
                                            transform hover:scale-105
                                            flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit</button> <button class="px-3 py-1.5 rounded-lg
                                            bg-red-500 hover:bg-red-600
                                            text-white text-sm font-medium
                                            shadow-sm hover:shadow-md
                                            transition-all duration-200
                                            transform hover:scale-105
                                            flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Hapus</button></div></td></tr>`),yr=c("<!> <!>",1),wr=c("<!> <!>",1),$r=c("<!> <!>",1),Cr=je('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Simpan',1),jr=je('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Batal',1),Rr=c('<tr class="bg-green-50"><td class="px-6 py-4"><input type="text" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Nama Rute"/></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9.]*" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Jarak"/></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9]*" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Buffer"/></td><td class="px-6 py-4 text-center"><span class="text-gray-400">-</span></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><!> <!></div></td></tr>'),Pr=c(`<tr><td colspan="7" class="px-6 py-4"><button class="w-full py-3 rounded-lg
                                    bg-linear-to-r from-purple-500 to-indigo-600
                                    hover:from-purple-600 hover:to-indigo-700
                                    text-white font-medium
                                    shadow-md hover:shadow-lg
                                    transition-all duration-200
                                    transform hover:scale-[1.01]
                                    flex items-center justify-center gap-2"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Tambah Rute Baru</button></td></tr>`),Tr=c('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50"><!></div>'),Br=c('<div class="mb-6"><div class="flex items-center gap-3 mb-2"><div class="w-10 h-10 rounded-xl bg-linear-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg></div> <div><h1 class="text-2xl font-bold text-gray-900">Manajemen Rute</h1> <p class="text-sm text-gray-500">Kelola data rute perjalanan vacuum truck</p></div></div></div> <div class="bg-white rounded-2xl shadow-md p-4 mb-4"><div class="flex flex-col gap-4"><div class="flex items-center justify-between gap-4"><!> <div class="flex items-center gap-2 text-sm text-gray-600"><svg class="w-5 h-5 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg> <span>Total Rute: <strong class="text-gray-900"> </strong></span></div></div> <div class="flex items-center gap-3 flex-wrap"><span class="text-sm font-medium text-gray-700">Filter:</span>  <div class="relative"><select class="input pr-8 text-sm focus:ring-2 focus:ring-purple-500 cursor-pointer"><option>Semua Tipe</option><option>Tanpa Tipe</option><!></select> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div> <!></div> <!></div></div> <div class="bg-white rounded-2xl shadow-md overflow-hidden"><div class="overflow-x-auto"><table class="w-full"><thead class="bg-linear-to-r from-purple-500 to-indigo-600 text-white"><tr><th class="px-6 py-4 text-left text-sm font-semibold cursor-pointer select-none hover:bg-purple-600 transition-colors"><div class="flex items-center gap-2">Nama Rute <!></div></th><th class="px-6 py-4 text-left text-sm font-semibold cursor-pointer select-none hover:bg-purple-600 transition-colors"><div class="flex items-center gap-2">Jarak (km) <!></div></th><th class="px-6 py-4 text-left text-sm font-semibold">Tipe Rute</th><th class="px-6 py-4 text-left text-sm font-semibold">Buffer</th><th class="px-6 py-4 text-center text-sm font-semibold">File</th><th class="px-6 py-4 text-center text-sm font-semibold">Aksi</th></tr></thead><tbody class="divide-y divide-gray-100"><!><!></tbody></table></div> <div class="border-t border-gray-100 p-4"><!></div></div> <!>',1);function Xr(xt,bt){Gt(bt,!1);const K=p(),Re=p(),fe=p(),Pe=p(),qe=p(),Te=p(),kt=p(),me=p();let Q=p(!1),ge=[],oe=p([]),R=p([]),W=p(null),_e=p(null),i=p(null),D=p(""),he=p(1),le=p(10),ne=p("nama_rute"),X=p("asc"),C=p("all"),v=p("all");const Ue=t=>{e(ne)===t?o(X,e(X)==="asc"?"desc":"asc"):(o(ne,t),o(X,"asc"))},yt=(t,r,n="asc")=>[...t].sort((f,y)=>{let S,d;return r==="jarak"?(S=parseFloat(f?.jarak??0),d=parseFloat(y?.jarak??0)):(S=(f?.[r]??"").toString().toLowerCase(),d=(y?.[r]??"").toString().toLowerCase()),S<d?n==="asc"?-1:1:S>d?n==="asc"?1:-1:0});Ut(async()=>{o(Q,!0);try{const t=await se.getRute();o(R,t.rutes??[]),ge=(await se.getSupervisor()).users??[],o(oe,ge)}catch(t){console.error("Error fetching rute data:",t)}finally{o(Q,!1)}});const V=[{value:"road",label:"Jalan"},{value:"field",label:"Site"},{value:"traffic",label:"Lalu lintas"}];let L=p(V),Y=p([]);const Ge=()=>{o(L,V)},Ke=t=>{const r=(t.inputValue??"").toLowerCase();if(!r){o(L,V);return}o(L,V.filter(n=>n.label.toLowerCase().includes(r)))},Qe=t=>{o(Y,t.value??[]),e(i)&&ae(i,e(i).tipe_rute=e(Y)?.[0]??null),o(L,V)},Be=t=>V.find(n=>n.value===t)?.label??"-",wt=t=>{o(W,"edit"),o(_e,t.rute_id),o(i,{rute_id:t.rute_id,nama_rute:t.nama_rute??"",jarak:t.jarak??"",user_id:t.user_id??null,tipe_rute:t.tipe_rute??null,buffer:t.buffer??""}),e(i).user_id&&String(e(i).user_id),o(Y,e(i).tipe_rute?[String(e(i).tipe_rute)]:[]),o(oe,ge),o(L,V)},Le=()=>{o(W,null),o(_e,null),o(i,null),o(Y,[]),o(oe,ge),o(L,V)},We=async()=>{if(o(Q,!0),!!e(i)){try{const t={rute_id:e(i).rute_id,nama_rute:e(i).nama_rute,jarak:e(i).jarak,user_id:e(i).user_id,tipe_rute:e(i).tipe_rute,buffer:Number(e(i).buffer)};if(e(W)==="edit"){await se.updateRute(t),ke.success("Perubahan rute berhasil disimpan.");const n=(await se.getRuteByID({rute_id:t.rute_id})).rute;o(R,e(R).map(f=>f.rute_id!==n.rute_id?f:{...n}))}else{await se.createRute(t),ke.success("Rute baru berhasil ditambahkan.");const n=(await se.getLastRute()).rute;o(R,[...e(R),n])}}catch(t){ke.error("Gagal menyimpan perubahan rute."),console.error("Error updating rute:",t)}finally{o(Q,!1)}Le()}};async function $t(t){if(await ar("Hapus data rute ini?","danger")){o(Q,!0);try{await se.deleteRute({rute_id:t}),o(R,e(R).filter(n=>n.rute_id!==t)),ke?.success("Rute berhasil dihapus")}catch(n){console.error("Error deleting rute:",n),ke?.error("Gagal menghapus rute")}finally{o(Q,!1)}}}const Ct=()=>{o(W,"add"),o(_e,null),o(i,{nama_rute:"",jarak:"",user_id:null,tipe_rute:null,buffer:""}),o(Y,[]),o(oe,ge),o(L,V)},jt=()=>{o(C,"all"),o(v,"all"),o(D,"")};O(()=>(e(R),e(D),e(C),e(v)),()=>{o(K,e(R).filter(t=>{const r=e(D).toLowerCase(),n=(t?.nama_rute??"").toLowerCase().includes(r)||(t?.supervisor?.nama??"").toLowerCase().includes(r)||(t?.jarak??"").toString().includes(r)||Be(t?.tipe_rute??"").toLowerCase().includes(r),f=e(C)==="all"||e(C)==="none"&&!t.user_id||String(t.user_id)===e(C),y=e(v)==="all"||e(v)==="none"&&!t.tipe_rute||t.tipe_rute===e(v);return n&&f&&y}))}),O(()=>(e(K),e(ne),e(X)),()=>{o(Re,yt(e(K),e(ne),e(X)))}),O(()=>(e(D),e(C),e(v)),()=>{(e(D)!==void 0||e(C)!==void 0||e(v)!==void 0)&&o(he,1)}),O(()=>(e(he),e(le)),()=>{o(fe,(e(he)-1)*e(le))}),O(()=>(e(fe),e(le)),()=>{o(Pe,e(fe)+e(le))}),O(()=>(e(Re),e(fe),e(Pe)),()=>{o(qe,e(Re).slice(e(fe),e(Pe)))}),O(()=>e(R),()=>{o(Te,Array.from(new Set(e(R).filter(t=>t.user_id).map(t=>t.user_id))).map(t=>e(R).find(r=>r.user_id===t)?.supervisor).filter(Boolean))}),O(()=>e(oe),()=>{o(kt,_t({items:e(oe),itemToString:t=>t.nama,itemToValue:t=>String(t.user_id)}))}),O(()=>e(L),()=>{o(me,_t({items:e(L),itemToString:t=>t.label,itemToValue:t=>t.value}))}),Kt(),er();var Xe=Br(),Se=l(E(Xe),2),Ye=a(Se),Me=a(Ye),Ze=a(Me);tr(Ze,{placeholder:"Cari nama rute, supervisor, tipe...",get value(){return e(D)},set value(t){o(D,t)},$$legacy:!0});var et=l(Ze,2),tt=l(a(et),2),rt=l(a(tt)),Rt=a(rt,!0);s(rt),s(tt),s(et),s(Me);var Ie=l(Me,2),Ve=l(a(Ie),2),ze=a(Ve);B(()=>{e(v),Wt(()=>{})});var Ae=a(ze);Ae.value=Ae.__value="all";var Ee=l(Ae);Ee.value=Ee.__value="none";var Pt=l(Ee);$e(Pt,1,()=>V,Xt,(t,r)=>{var n=sr(),f=a(n,!0);s(n);var y={};B(()=>{j(f,(e(r),g(()=>e(r).label))),y!==(y=(e(r),g(()=>e(r).value)))&&(n.value=(n.__value=(e(r),g(()=>e(r).value)))??"")}),u(t,n)}),s(ze),G(2),s(Ve);var Tt=l(Ve,2);{var Bt=t=>{var r=or();ce("click",r,jt),u(t,r)};I(Tt,t=>{(e(C)!=="all"||e(v)!=="all"||e(D)!=="")&&t(Bt)})}s(Ie);var Lt=l(Ie,2);{var St=t=>{var r=ir(),n=l(a(r),2);{var f=d=>{var m=lr(),w=l(a(m));s(m),B($=>j(w,` ${$??""}`),[()=>(e(C),e(Te),g(()=>e(C)==="none"?"Tanpa Supervisor":e(Te).find($=>String($.user_id)===e(C))?.nama))]),u(d,m)};I(n,d=>{e(C)!=="all"&&d(f)})}var y=l(n,2);{var S=d=>{var m=nr(),w=l(a(m));s(m),B($=>{gt(m,1,`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium
                        ${e(v)==="road"?"bg-green-100 text-green-700":e(v)==="field"?"bg-amber-100 text-amber-700":e(v)==="traffic"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`),j(w,` ${$??""}`)},[()=>(e(v),g(()=>e(v)==="none"?"Tanpa Tipe":Be(e(v))))]),u(d,m)};I(y,d=>{e(v)!=="all"&&d(S)})}s(r),u(t,r)};I(Lt,t=>{(e(C)!=="all"||e(v)!=="all")&&t(St)})}s(Ye),s(Se);var Fe=l(Se,2),He=a(Fe),at=a(He),Ne=a(at),st=a(Ne),ye=a(st),ot=a(ye),Mt=l(a(ot));{var It=t=>{var r=ur(),n=a(r,!0);s(r),B(()=>j(n,e(X)==="asc"?"▲":"▼")),u(t,r)};I(Mt,t=>{e(ne)==="nama_rute"&&t(It)})}s(ot),s(ye);var Oe=l(ye),lt=a(Oe),Vt=l(a(lt));{var zt=t=>{var r=dr(),n=a(r,!0);s(r),B(()=>j(n,e(X)==="asc"?"▲":"▼")),u(t,r)};I(Vt,t=>{e(ne)==="jarak"&&t(zt)})}s(lt),s(Oe),G(4),s(st),s(Ne);var nt=l(Ne),it=a(nt);$e(it,1,()=>e(qe),t=>t.rute_id,(t,r)=>{var n=Je(),f=E(n);{var y=d=>{var m=gr(),w=a(m),$=a(w);pe($),s(w);var F=l(w),Z=a(F);pe(Z),s(F);var z=l(F),ie=a(z);_(ie,{class:"w-48",placeholder:"Pilih Tipe Rute",get collection(){return e(me)},onOpenChange:Ge,onInputValueChange:Ke,onValueChange:Qe,get value(){return e(Y)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(x,be)=>{var T=vr(),re=E(T);_.Control(re,{$$events:{click:()=>e(me)?.open?.()},children:(N,b)=>{var k=pr(),q=E(k);_.Input(q,{class:"focus:ring-2 focus:ring-purple-500"});var U=l(q,2);_.Trigger(U,{}),u(N,k)},$$slots:{default:!0}});var J=l(re,2);ht(J,{children:(N,b)=>{_.Positioner(N,{children:(k,q)=>{_.Content(k,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(U,dt)=>{var we=Je(),pt=E(we);$e(pt,1,()=>e(L),de=>de.value,(de,De)=>{_.Item(de,{get item(){return e(De)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(Dt,Sr)=>{var ct=cr(),vt=E(ct);_.ItemText(vt,{children:(qt,Mr)=>{G();var ft=mt();B(()=>j(ft,(e(De),g(()=>e(De).label)))),u(qt,ft)},$$slots:{default:!0}});var Jt=l(vt,2);_.ItemIndicator(Jt,{}),u(Dt,ct)},$$slots:{default:!0}})}),u(U,we)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(x,T)},$$slots:{default:!0}}),s(z);var h=l(z),H=a(h);pe(H),s(h);var P=l(h),ee=a(P),xe=a(ee,!0);s(ee),s(P);var A=l(P),ue=a(A),M=a(ue);Ce(M,{severity:"success",size:"sm",$$events:{click:We},children:(x,be)=>{var T=fr();G(),u(x,T)},$$slots:{default:!0}});var te=l(M,2);Ce(te,{severity:"ghost",size:"sm",$$events:{click:Le},children:(x,be)=>{var T=mr();G(),u(x,T)},$$slots:{default:!0}}),s(ue),s(A),s(m),B(()=>j(xe,(e(r),g(()=>e(r).path||"-")))),ve($,()=>e(i).nama_rute,x=>ae(i,e(i).nama_rute=x)),ve(Z,()=>e(i).jarak,x=>ae(i,e(i).jarak=x)),ve(H,()=>e(i).buffer,x=>ae(i,e(i).buffer=x)),u(d,m)},S=d=>{var m=kr(),w=a(m),$=a(w),F=l(a($),2),Z=a(F,!0);s(F),s($),s(w);var z=l(w),ie=a(z),h=a(ie);s(ie),s(z);var H=l(z),P=a(H);{var ee=b=>{var k=_r(),q=a(k,!0);s(k),B(U=>{gt(k,1,`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium
                                        ${e(r),g(()=>e(r).tipe_rute==="road"?"bg-green-100 text-green-700":e(r).tipe_rute==="field"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700")??""}`),j(q,U)},[()=>(e(r),g(()=>Be(e(r).tipe_rute)))]),u(b,k)},xe=b=>{var k=hr();u(b,k)};I(P,b=>{e(r),g(()=>e(r).tipe_rute)?b(ee):b(xe,!1)})}s(H);var A=l(H),ue=a(A,!0);s(A);var M=l(A),te=a(M);{var x=b=>{var k=xr();u(b,k)},be=b=>{var k=br();u(b,k)};I(te,b=>{e(r),g(()=>e(r).path)?b(x):b(be,!1)})}s(M);var T=l(M),re=a(T),J=a(re),N=l(J,2);s(re),s(T),s(m),B(()=>{j(Z,(e(r),g(()=>e(r).nama_rute))),j(h,`${e(r),g(()=>e(r).jarak)??""} km`),j(ue,(e(r),g(()=>e(r).buffer||"-")))}),ce("click",J,()=>wt(e(r))),ce("click",N,()=>$t(e(r).rute_id)),u(d,m)};I(f,d=>{e(W),e(_e),e(r),e(i),g(()=>e(W)==="edit"&&e(_e)===e(r).rute_id&&e(i))?d(y):d(S,!1)})}u(t,n)});var At=l(it);{var Et=t=>{var r=Rr(),n=a(r),f=a(n);pe(f),s(n);var y=l(n),S=a(y);pe(S),s(y);var d=l(y),m=a(d);_(m,{class:"w-48",placeholder:"Pilih Tipe Rute",get collection(){return e(me)},onOpenChange:Ge,onInputValueChange:Ke,onValueChange:Qe,get value(){return e(Y)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(h,H)=>{var P=$r(),ee=E(P);_.Control(ee,{$$events:{click:()=>e(me)?.open?.()},children:(A,ue)=>{var M=yr(),te=E(M);_.Input(te,{class:"focus:ring-2 focus:ring-emerald-500"});var x=l(te,2);_.Trigger(x,{}),u(A,M)},$$slots:{default:!0}});var xe=l(ee,2);ht(xe,{children:(A,ue)=>{_.Positioner(A,{children:(M,te)=>{_.Content(M,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(x,be)=>{var T=Je(),re=E(T);$e(re,1,()=>e(L),J=>J.value,(J,N)=>{_.Item(J,{get item(){return e(N)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(b,k)=>{var q=wr(),U=E(q);_.ItemText(U,{children:(we,pt)=>{G();var de=mt();B(()=>j(de,(e(N),g(()=>e(N).label)))),u(we,de)},$$slots:{default:!0}});var dt=l(U,2);_.ItemIndicator(dt,{}),u(b,q)},$$slots:{default:!0}})}),u(x,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(h,P)},$$slots:{default:!0}}),s(d);var w=l(d),$=a(w);pe($),s(w);var F=l(w,2),Z=a(F),z=a(Z);Ce(z,{severity:"success",size:"sm",$$events:{click:We},children:(h,H)=>{var P=Cr();G(),u(h,P)},$$slots:{default:!0}});var ie=l(z,2);Ce(ie,{severity:"ghost",size:"sm",$$events:{click:Le},children:(h,H)=>{var P=jr();G(),u(h,P)},$$slots:{default:!0}}),s(Z),s(F),s(r),ve(f,()=>e(i).nama_rute,h=>ae(i,e(i).nama_rute=h)),ve(S,()=>e(i).jarak,h=>ae(i,e(i).jarak=h)),ve($,()=>e(i).buffer,h=>ae(i,e(i).buffer=h)),u(t,r)},Ft=t=>{var r=Pr(),n=a(r),f=a(n);s(n),s(r),ce("click",f,Ct),u(t,r)};I(At,t=>{e(W)==="add"?t(Et):t(Ft,!1)})}s(nt),s(at),s(He);var ut=l(He,2),Ht=a(ut);rr(Ht,{get totalItems(){return e(K),g(()=>e(K).length)},get page(){return e(he)},set page(t){o(he,t)},get perPage(){return e(le)},set perPage(t){o(le,t)},$$legacy:!0}),s(ut),s(Fe);var Nt=l(Fe,2);{var Ot=t=>{var r=Tr(),n=a(r);Zt(n,{}),s(r),u(t,r)};I(Nt,t=>{e(Q)&&t(Ot)})}B(()=>j(Rt,(e(K),g(()=>e(K).length)))),Yt(ze,()=>e(v),t=>o(v,t)),ce("click",ye,()=>Ue("nama_rute")),ce("click",Oe,()=>Ue("jarak")),u(xt,Xe),Qt()}export{Xr as component};
