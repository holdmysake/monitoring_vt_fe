import"../chunks/DsnmJJEf.js";import"../chunks/Dreri0Nc.js";import{o as nr}from"../chunks/sDIuGG-g.js";import{p as ir,l as Ft,a as dr,b as vr,d as u,g as e,m as E,s as o,c as s,r as l,u as p,f as b,n as $,t as N,w as nt,e as it,h as I}from"../chunks/BA9zlQXs.js";import{s as x}from"../chunks/CxGsrVHP.js";import{i as M}from"../chunks/5idYV8Eq.js";import{e as et,i as cr}from"../chunks/DHhalKro.js";import{f,a as i,c as dt,t as k,b as pt}from"../chunks/D2T3iFuq.js";import{a as vt}from"../chunks/BN_T7pPR.js";import{r as me,a as Ot,s as bt}from"../chunks/CN9_JMpm.js";import{e as R}from"../chunks/DEKlhpFx.js";import{b as $e}from"../chunks/j0kaSfka.js";import{s as pr,b as ur}from"../chunks/C-ltNOpG.js";import{i as _r}from"../chunks/DVSe7J_H.js";import{a as xe,L as hr,n as Fe,B as fr}from"../chunks/DFIjbTXV.js";import{c as gr}from"../chunks/BvDYI0fq.js";import{f as mr}from"../chunks/DIg2_NEP.js";import{B as V}from"../chunks/dm43JwH2.js";import{u as zt,C as _,P as ct}from"../chunks/Xw1Er8YH.js";var $r=f("<!> <!>",1),xr=f("<!> <!>",1),br=f("<!> <!>",1),yr=f("<!> <!>",1),kr=f("<!> <!>",1),wr=f("<!> <!>",1),Pr=pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"></path><path d="M8 6V4h8v2"></path><path d="M19 6l-1 14H6L5 6"></path></svg>'),Cr=pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"></path><path d="M8 6V4h8v2"></path><path d="M19 6l-1 14H6L5 6"></path></svg>'),Ir=pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"></path><path d="M8 6V4h8v2"></path><path d="M19 6l-1 14H6L5 6"></path></svg>'),Mr=pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"></path><path d="M8 6V4h8v2"></path><path d="M19 6l-1 14H6L5 6"></path></svg>'),Vr=f(`<td><input class="input w-full"/></td> <td><input class="input w-full"/></td> <td><!></td> <td><!></td> <td><div class="flex flex-col items-center gap-1 mb-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                    border rounded-lg cursor-pointer
                                    text-sm text-gray-600 hover:bg-gray-100"><span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label> <!></div></td> <td><div class="flex flex-col items-center gap-1 mb-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                    border rounded-lg cursor-pointer
                                    text-sm text-gray-600 hover:bg-gray-100"><span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label> <!></div></td> <td><div class="flex flex-col items-center gap-1"><div class="flex items-center gap-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                        border rounded-lg cursor-pointer
                                        text-sm text-gray-600 hover:bg-gray-100"><span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label> <!></div> <div class="relative"><input type="text" class="input w-36 cursor-pointer" readonly=""/> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 text-black cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10m-11 8h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div></div></td> <td><div class="flex flex-col items-center gap-1"><div class="flex items-center gap-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                        border rounded-lg cursor-pointer
                                        text-sm text-gray-600 hover:bg-gray-100"><span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label> <!></div> <div class="relative"><input type="text" class="input w-36 cursor-pointer" readonly=""/> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 text-black cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10m-11 8h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div></div></td> <td class="space-x-2 whitespace-nowrap"><!> <!></td>`,1),Sr=f("<span>-</span>"),Tr=f("<span> </span>"),Br=f("<span>-</span>"),Hr=f("<span> </span>"),Dr=f('<td> </td> <td> </td> <td> </td> <td> </td> <td><!></td> <td><!></td> <td><div class="flex flex-col gap-1"><!> <!></div></td> <td><div class="flex flex-col gap-1"><!> <!></div></td> <td class="space-x-2"><!> <!></td>',1),Lr=f("<tr><!></tr>"),jr=f("<!> <!>",1),Er=f("<!> <!>",1),Nr=f("<!> <!>",1),Fr=f("<!> <!>",1),Or=f("<!> <!>",1),zr=f("<!> <!>",1),Ar=f(`<tr><td><input class="input w-full"/></td><td><input class="input w-full"/></td><td><!></td><td><!></td><td><div class="flex flex-col items-center gap-1 mb-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                border rounded-lg cursor-pointer
                                text-sm text-gray-600 hover:bg-gray-100"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M12 12v9M8 12l4-4 4 4"></path></svg> <span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label></div></td><td><div class="flex flex-col items-center gap-1 mb-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                border rounded-lg cursor-pointer
                                text-sm text-gray-600 hover:bg-gray-100"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M12 12v9M8 12l4-4 4 4"></path></svg> <span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label></div></td><td><div class="flex flex-col items-center gap-1"><div class="flex items-center gap-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                    border rounded-lg cursor-pointer
                                    text-sm text-gray-600 hover:bg-gray-100"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M12 12v9M8 12l4-4 4 4"></path></svg> <span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label></div> <div class="relative"><input type="text" class="input w-36 cursor-pointer" readonly=""/> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 text-black cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10m-11 8h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div></div></td><td><div class="flex flex-col items-center gap-1"><div class="flex items-center gap-1"><label class="inline-flex items-center gap-2 px-3 py-1.5 w-32
                                    border rounded-lg cursor-pointer
                                    text-sm text-gray-600 hover:bg-gray-100"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M12 12v9M8 12l4-4 4 4"></path></svg> <span class="flex-1 truncate"> </span> <input type="file" accept="image/*" class="hidden"/></label></div> <div class="relative"><input type="text" class="input w-36 cursor-pointer" readonly=""/> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 text-black cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10m-11 8h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div></div></td><td class="space-x-2 whitespace-nowrap"><!> <!></td></tr>`),Kr=f('<tr><td colspan="7"><!></td></tr>'),qr=f('<iframe class="w-full h-full rounded-xl border"></iframe>'),Gr=f('<img class="max-w-full max-h-full object-contain rounded-xl"/>'),Yr=f('<div class="fixed inset-0 bg-black/60 flex items-center justify-center z-50"><div class="bg-white rounded-2xl w-[70vw] h-[70vh] p-4 flex flex-col"><div class="flex justify-between items-center mb-3"><h2 class="font-semibold text-lg"> </h2> <button class="text-xl hover:opacity-70">âœ•</button></div> <div class="flex-1 overflow-auto flex items-center justify-center"><!></div></div></div>'),Rr=f('<div class="fixed inset-0 bg-white/70 flex items-center justify-center z-50"><!></div>'),Jr=f('<div class="table-wrap"><p class="text-3xl font-semibold mb-4">Driver</p> <table class="table caption-bottom"><thead><tr><th>Nama</th><th>No. Handphone</th><th>Helper</th><th>Vacuum Truck</th><th>Foto</th><th>KTP</th><th>SIM</th><th>SIML</th><th>Action</th></tr></thead><tbody class="[&amp;>tr:hover:preset-tonal-primary]"><!><!></tbody></table> <!> <!></div>');function _a(At,yt){ir(yt,!1);const Oe=E();let F=E(!1),Q=E([]),ut=E(!1),Le=E(""),tt=E(""),ze=[],be=E([]),kt=[],Ae=E();const wt=()=>{u(be,ze)},Pt=t=>{const r=(t.inputValue??"").toLowerCase(),c=ze.filter(w=>String(w.plat??"").toLowerCase().includes(r));u(be,c.length?c:ze)},Ct=t=>{I(a,e(a).def_vt=t.value?.[0]??""),kt=t.value,console.log("selectedVT:",kt)};let ye=[],X=E([]),It=[];const Mt=t=>t?.[0]??null,Kt=()=>{const t=Mt(It);return t?ye.find(c=>String(c.personel_id)===String(t))?.nama_personel??"":""},Vt=()=>{u(X,ye)},St=t=>{const r=(t.inputValue??"").toLowerCase(),c=Kt().toLowerCase();if(!r||r===c){u(X,ye);return}u(X,ye.filter(w=>(w.nama_personel??"").toLowerCase().includes(r)))},Tt=t=>{I(a,e(a).def_helper=Mt(t.value)),It=t.value??[],u(X,ye)},qt=async()=>{try{ye=(await xe.getHelpers()).helpers,u(X,ye),ze=(await xe.getVT()).vts??[],u(be,ze)}catch(t){console.error("Error fetching helpers:",t)}},Gt=async()=>{u(F,!0);try{const t=await xe.getDrivers();u(Q,t.drivers),console.log("drivers:",e(Q)),qt()}catch(t){console.error("Error fetching drivers:",t)}u(F,!1)},Yt=async()=>{u(F,!0);try{const t=await xe.getLastDriver();u(Q,[...e(Q),t.driver])}catch(t){console.error("Error fetching last driver:",t)}u(F,!1)},Rt=async t=>{u(F,!0);try{const r=await xe.getDriverByID({personel_id:t});u(Q,e(Q).map(c=>c.personel_id===t?r.driver:c))}catch(r){console.error("Error fetching driver by ID:",r)}u(F,!1)};function rt(t,r){u(Le,`${fr}/${t}`),u(tt,r),u(ut,!0)}function Bt(){u(ut,!1),u(Le,""),u(tt,"")}function Ht(t){if(!t)return null;const r=new Date(t),c=String(r.getDate()).padStart(2,"0"),w=String(r.getMonth()+1).padStart(2,"0"),T=r.getFullYear();return`${c}-${w}-${T}`}function at(t){if(!t)return null;const r=new Date(t),c=new Date;return c.setHours(0,0,0,0),r>=c?{text:`Aktif sampai ${Ht(t)}`,class:"text-green-600"}:{text:`Nonaktif sejak ${Ht(t)}`,class:"text-red-600"}}let ve=E(null),st=E(null),a=E({nama_personel:"",no_hp:"",foto:"",ktp:"",sim:"",siml:"",sim_expired_at:"",siml_expired_at:"",is_driver:1,def_helper:"",def_vt:""});function Dt(){u(a,{nama_personel:"",no_hp:"",foto:"",ktp:"",sim:"",siml:"",sim_expired_at:"",siml_expired_at:"",is_driver:1,def_helper:"",def_vt:""})}function Jt(){Dt(),u(ve,"add")}function Ut(t){u(ve,"edit"),u(st,t.personel_id),u(a,{...t})}function _t(){u(ve,null),u(st,null),Dt()}async function Lt(){if(u(F,!0),e(ve)==="add")try{console.log(e(a)),await xe.createPersonel(e(a)),await Yt()}catch(t){console.error("Error creating personel:",t),Fe?.error("Gagal menambahkan driver")}finally{Fe?.success("Driver berhasil ditambahkan")}if(e(ve)==="edit")try{const t={...e(a)};console.log(JSON.stringify(t,null,2));const r=await xe.updatePersonel(t);await Rt(e(a).personel_id)}catch(t){console.error("Error updating personel:",t),Fe?.error("Gagal memperbarui driver")}finally{Fe?.success("Driver berhasil diperbarui")}_t(),u(F,!1)}async function Wt(t){if(await gr("Hapus data ini?")){u(F,!0);try{await xe.deletePersonel({personel_id:t}),u(Q,e(Q).filter(c=>c.personel_id!==t))}catch(c){console.error("Error deleting personel:",c),Fe?.error("Gagal menghapus driver")}finally{Fe?.success("Driver berhasil dihapus")}u(F,!1)}}function ce(t,r){const c=t.target.files[0];c&&I(a,e(a)[r]=c)}function Qt(t){return t?t.toLowerCase().endsWith(".pdf"):!1}function lt(t,r={}){const c=mr(t,{dateFormat:"Y-m-d",altInput:!0,altFormat:"d-m-Y",allowInput:!1,...r});return{destroy(){c.destroy()}}}nr(()=>{Gt()}),Ft(()=>e(be),()=>{u(Ae,zt({items:e(be),itemToString:t=>`${t.no_vt} - ${t.plat}`,itemToValue:t=>String(t.vt_id)}))}),Ft(()=>e(X),()=>{u(Oe,zt({items:e(X),itemToString:t=>t.nama_personel,itemToValue:t=>String(t.personel_id)}))}),dr(),_r();var ht=Jr(),ft=o(s(ht),2),jt=o(s(ft)),Et=s(jt);et(Et,1,()=>e(Q),cr,(t,r)=>{var c=Lr(),w=s(c);{var T=S=>{var J=Vr(),B=b(J),pe=s(B);me(pe),l(B);var H=o(B,2),P=s(H);me(P),l(H);var y=o(H,2),we=s(y);{let n=nt(()=>(e(a),p(()=>e(a).def_helper?[String(e(a).def_helper)]:[])));_(we,{class:"w-48",placeholder:"Pilih Helper",get collection(){return e(Oe)},onOpenChange:Vt,onInputValueChange:St,onValueChange:Tt,get value(){return e(n)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(g,L)=>{var C=br(),q=b(C);_.Control(q,{$$events:{click:()=>e(Oe)?.open?.()},children:(G,Be)=>{var Y=$r(),j=b(Y);_.Input(j,{});var He=o(j,2);_.Trigger(He,{}),i(G,Y)},$$slots:{default:!0}});var ie=o(q,2);ct(ie,{children:(G,Be)=>{_.Positioner(G,{children:(Y,j)=>{_.Content(Y,{class:"bg-white border border-gray-300 shadow-lg max-h-40 overflow-y-auto",children:(He,sr)=>{var We=dt(),gt=b(We);et(gt,1,()=>e(X),De=>De.personel_id,(De,de)=>{_.Item(De,{get item(){return e(de)},children:(mt,lr)=>{var Qe=xr(),Xe=b(Qe);_.ItemText(Xe,{children:(xt,or)=>{$();var Ze=k();N(()=>x(Ze,(e(de),p(()=>e(de).nama_personel)))),i(xt,Ze)},$$slots:{default:!0}});var $t=o(Xe,2);_.ItemIndicator($t,{}),i(mt,Qe)},$$slots:{default:!0}})}),i(He,We)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(g,C)},$$slots:{default:!0}})}l(y);var Z=o(y,2),Ke=s(Z);{let n=nt(()=>(e(a),p(()=>e(a).def_vt?[String(e(a).def_vt)]:[])));_(Ke,{class:"w-48",placeholder:"Pilih VT",get collection(){return e(Ae)},onOpenChange:wt,onInputValueChange:Pt,onValueChange:Ct,get value(){return e(n)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(g,L)=>{var C=wr(),q=b(C);_.Control(q,{$$events:{click:()=>e(Ae)?.open?.()},children:(G,Be)=>{var Y=yr(),j=b(Y);_.Input(j,{});var He=o(j,2);_.Trigger(He,{}),i(G,Y)},$$slots:{default:!0}});var ie=o(q,2);ct(ie,{children:(G,Be)=>{_.Positioner(G,{children:(Y,j)=>{_.Content(Y,{class:"bg-white border border-gray-300 shadow-lg max-h-40 overflow-y-auto",children:(He,sr)=>{var We=dt(),gt=b(We);et(gt,1,()=>e(be),De=>De.vt_id,(De,de)=>{_.Item(De,{get item(){return e(de)},children:(mt,lr)=>{var Qe=kr(),Xe=b(Qe);_.ItemText(Xe,{children:(xt,or)=>{$();var Ze=k();N(()=>x(Ze,`${e(de),p(()=>e(de).no_vt)??""} - ${e(de),p(()=>e(de).plat)??""}`)),i(xt,Ze)},$$slots:{default:!0}});var $t=o(Xe,2);_.ItemIndicator($t,{}),i(mt,Qe)},$$slots:{default:!0}})}),i(He,We)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(g,C)},$$slots:{default:!0}})}l(Z);var O=o(Z,2),Pe=s(O),ue=s(Pe),ee=s(ue),Ce=s(ee,!0);l(ee);var qe=o(ee,2);l(ue);var Ie=o(ue,2);{var je=n=>{V(n,{severity:"danger",$$events:{click:()=>I(a,e(a).foto=null)},children:(g,L)=>{var C=Pr();i(g,C)},$$slots:{default:!0}})};M(Ie,n=>{e(a),p(()=>e(a).foto!=null)&&n(je)})}l(Pe),l(O);var z=o(O,2),_e=s(z),U=s(_e),Me=s(U),Ge=s(Me,!0);l(Me);var Ee=o(Me,2);l(U);var Ve=o(U,2);{var te=n=>{V(n,{severity:"danger",$$events:{click:()=>I(a,e(a).ktp=null)},children:(g,L)=>{var C=Cr();i(g,C)},$$slots:{default:!0}})};M(Ve,n=>{e(a),p(()=>e(a).ktp!=null)&&n(te)})}l(_e),l(z);var re=o(z,2),ae=s(re),he=s(ae),se=s(he),Se=s(se),Ye=s(Se,!0);l(Se);var Te=o(Se,2);l(se);var fe=o(se,2);{var Ne=n=>{V(n,{severity:"danger",$$events:{click:()=>I(a,e(a).sim=null)},children:(g,L)=>{var C=Ir();i(g,C)},$$slots:{default:!0}})};M(fe,n=>{e(a),p(()=>e(a).sim!=null)&&n(Ne)})}l(he);var d=o(he,2),h=s(d);me(h),it(()=>$e(h,()=>e(a).sim_expired_at,n=>I(a,e(a).sim_expired_at=n))),vt(h,n=>lt?.(n)),$(2),l(d),l(ae),l(re);var v=o(re,2),m=s(v),D=s(m),le=s(D),oe=s(le),Re=s(oe,!0);l(oe);var ne=o(oe,2);l(le);var Je=o(le,2);{var A=n=>{V(n,{severity:"danger",$$events:{click:()=>I(a,e(a).siml=null)},children:(g,L)=>{var C=Mr();i(g,C)},$$slots:{default:!0}})};M(Je,n=>{e(a),p(()=>e(a).siml!=null)&&n(A)})}l(D);var W=o(D,2),K=s(W);me(K),it(()=>$e(K,()=>e(a).siml_expired_at,n=>I(a,e(a).siml_expired_at=n))),vt(K,n=>lt?.(n)),$(2),l(W),l(m),l(v);var ot=o(v,2),ge=s(ot);V(ge,{severity:"success",$$events:{click:Lt},children:(n,g)=>{$();var L=k("Simpan");i(n,L)},$$slots:{default:!0}});var Ue=o(ge,2);V(Ue,{severity:"danger",$$events:{click:_t},children:(n,g)=>{$();var L=k("Batal");i(n,L)},$$slots:{default:!0}}),l(ot),N(()=>{x(Ce,(e(a),p(()=>e(a).foto??"Pilih Foto"))),x(Ge,(e(a),p(()=>e(a).ktp??"Pilih KTP"))),x(Ye,(e(a),p(()=>e(a).sim??"Pilih SIM"))),x(Re,(e(a),p(()=>e(a).siml??"Pilih SIML")))}),$e(pe,()=>e(a).nama_personel,n=>I(a,e(a).nama_personel=n)),$e(P,()=>e(a).no_hp,n=>I(a,e(a).no_hp=n)),R("change",qe,n=>ce(n,"foto")),R("change",Ee,n=>ce(n,"ktp")),R("change",Te,n=>ce(n,"sim")),R("change",ne,n=>ce(n,"siml")),i(S,J)},ke=S=>{var J=Dr(),B=b(J),pe=s(B,!0);l(B);var H=o(B,2),P=s(H,!0);l(H);var y=o(H,2),we=s(y,!0);l(y);var Z=o(y,2),Ke=s(Z);l(Z);var O=o(Z,2),Pe=s(O);{var ue=d=>{V(d,{className:"w-16",severity:"primary",$$events:{click:()=>rt(e(r).foto,"Foto")},children:(h,v)=>{$();var m=k("Show");i(h,m)},$$slots:{default:!0}})},ee=d=>{var h=k("-");i(d,h)};M(Pe,d=>{e(r),p(()=>e(r).foto)?d(ue):d(ee,!1)})}l(O);var Ce=o(O,2),qe=s(Ce);{var Ie=d=>{V(d,{className:"w-16",severity:"primary",$$events:{click:()=>rt(e(r).ktp,"KTP")},children:(h,v)=>{$();var m=k("Show");i(h,m)},$$slots:{default:!0}})},je=d=>{var h=k("-");i(d,h)};M(qe,d=>{e(r),p(()=>e(r).ktp)?d(Ie):d(je,!1)})}l(Ce);var z=o(Ce,2),_e=s(z),U=s(_e);{var Me=d=>{V(d,{className:"w-16",severity:"primary",$$events:{click:()=>rt(e(r).sim,"SIM")},children:(h,v)=>{$();var m=k("Show");i(h,m)},$$slots:{default:!0}})},Ge=d=>{var h=Sr();i(d,h)};M(U,d=>{e(r),p(()=>e(r).sim)?d(Me):d(Ge,!1)})}var Ee=o(U,2);{var Ve=d=>{var h=Tr(),v=s(h,!0);l(h),N((m,D)=>{Ot(h,1,`text-xs ${m??""}`),x(v,D)},[()=>(e(r),p(()=>at(e(r).sim_expired_at).class)),()=>(e(r),p(()=>at(e(r).sim_expired_at).text))]),i(d,h)};M(Ee,d=>{e(r),p(()=>e(r).sim_expired_at)&&d(Ve)})}l(_e),l(z);var te=o(z,2),re=s(te),ae=s(re);{var he=d=>{V(d,{className:"w-16",severity:"primary",$$events:{click:()=>rt(e(r).siml,"SIML")},children:(h,v)=>{$();var m=k("Show");i(h,m)},$$slots:{default:!0}})},se=d=>{var h=Br();i(d,h)};M(ae,d=>{e(r),p(()=>e(r).siml)?d(he):d(se,!1)})}var Se=o(ae,2);{var Ye=d=>{var h=Hr(),v=s(h,!0);l(h),N((m,D)=>{Ot(h,1,`text-xs ${m??""}`),x(v,D)},[()=>(e(r),p(()=>at(e(r).siml_expired_at).class)),()=>(e(r),p(()=>at(e(r).siml_expired_at).text))]),i(d,h)};M(Se,d=>{e(r),p(()=>e(r).siml_expired_at)&&d(Ye)})}l(re),l(te);var Te=o(te,2),fe=s(Te);V(fe,{severity:"success",$$events:{click:()=>Ut(e(r))},children:(d,h)=>{$();var v=k("Edit");i(d,v)},$$slots:{default:!0}});var Ne=o(fe,2);V(Ne,{severity:"danger",$$events:{click:()=>Wt(e(r).personel_id)},children:(d,h)=>{$();var v=k("Hapus");i(d,v)},$$slots:{default:!0}}),l(Te),N(()=>{x(pe,(e(r),p(()=>e(r).nama_personel))),x(P,(e(r),p(()=>e(r).no_hp))),x(we,(e(r),p(()=>e(r).helper?.nama_personel||"-"))),x(Ke,`${e(r),p(()=>e(r).vt?.no_vt)??""} - ${e(r),p(()=>e(r).vt?.plat)??""}`)}),i(S,J)};M(w,S=>{e(ve),e(st),e(r),p(()=>e(ve)==="edit"&&e(st)===e(r).personel_id)?S(T):S(ke,!1)})}l(c),i(t,c)});var Xt=o(Et);{var Zt=t=>{var r=Ar(),c=s(r),w=s(c);me(w),l(c);var T=o(c),ke=s(T);me(ke),l(T);var S=o(T),J=s(S);{let v=nt(()=>(e(a),p(()=>e(a).def_helper?[String(e(a).def_helper)]:[])));_(J,{class:"w-48",placeholder:"Pilih Helper",get collection(){return e(Oe)},onOpenChange:Vt,onInputValueChange:St,onValueChange:Tt,get value(){return e(v)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(m,D)=>{var le=Nr(),oe=b(le);_.Control(oe,{$$events:{click:()=>e(Oe)?.open?.()},children:(ne,Je)=>{var A=jr(),W=b(A);_.Input(W,{});var K=o(W,2);_.Trigger(K,{}),i(ne,A)},$$slots:{default:!0}});var Re=o(oe,2);ct(Re,{children:(ne,Je)=>{_.Positioner(ne,{children:(A,W)=>{_.Content(A,{class:"bg-white border border-gray-300 shadow-lg max-h-40 overflow-y-auto",children:(K,ot)=>{var ge=dt(),Ue=b(ge);et(Ue,1,()=>e(X),n=>n.personel_id,(n,g)=>{_.Item(n,{get item(){return e(g)},children:(L,C)=>{var q=Er(),ie=b(q);_.ItemText(ie,{children:(Be,Y)=>{$();var j=k();N(()=>x(j,(e(g),p(()=>e(g).nama_personel)))),i(Be,j)},$$slots:{default:!0}});var G=o(ie,2);_.ItemIndicator(G,{}),i(L,q)},$$slots:{default:!0}})}),i(K,ge)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(m,le)},$$slots:{default:!0}})}l(S);var B=o(S),pe=s(B);{let v=nt(()=>(e(a),p(()=>e(a).def_vt?[String(e(a).def_vt)]:[])));_(pe,{class:"w-48",placeholder:"Pilih VT",get collection(){return e(Ae)},onOpenChange:wt,onInputValueChange:Pt,onValueChange:Ct,get value(){return e(v)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(m,D)=>{var le=zr(),oe=b(le);_.Control(oe,{$$events:{click:()=>e(Ae)?.open?.()},children:(ne,Je)=>{var A=Fr(),W=b(A);_.Input(W,{});var K=o(W,2);_.Trigger(K,{}),i(ne,A)},$$slots:{default:!0}});var Re=o(oe,2);ct(Re,{children:(ne,Je)=>{_.Positioner(ne,{children:(A,W)=>{_.Content(A,{class:"bg-white border border-gray-300 shadow-lg max-h-40 overflow-y-auto",children:(K,ot)=>{var ge=dt(),Ue=b(ge);et(Ue,1,()=>e(be),n=>n.vt_id,(n,g)=>{_.Item(n,{get item(){return e(g)},children:(L,C)=>{var q=Or(),ie=b(q);_.ItemText(ie,{children:(Be,Y)=>{$();var j=k();N(()=>x(j,`${e(g),p(()=>e(g).no_vt)??""} - ${e(g),p(()=>e(g).plat)??""}`)),i(Be,j)},$$slots:{default:!0}});var G=o(ie,2);_.ItemIndicator(G,{}),i(L,q)},$$slots:{default:!0}})}),i(K,ge)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(m,le)},$$slots:{default:!0}})}l(B);var H=o(B),P=s(H),y=s(P),we=o(s(y),2),Z=s(we,!0);l(we);var Ke=o(we,2);l(y),l(P),l(H);var O=o(H),Pe=s(O),ue=s(Pe),ee=o(s(ue),2),Ce=s(ee,!0);l(ee);var qe=o(ee,2);l(ue),l(Pe),l(O);var Ie=o(O),je=s(Ie),z=s(je),_e=s(z),U=o(s(_e),2),Me=s(U,!0);l(U);var Ge=o(U,2);l(_e),l(z);var Ee=o(z,2),Ve=s(Ee);me(Ve),it(()=>$e(Ve,()=>e(a).sim_expired_at,v=>I(a,e(a).sim_expired_at=v))),vt(Ve,v=>lt?.(v)),$(2),l(Ee),l(je),l(Ie);var te=o(Ie),re=s(te),ae=s(re),he=s(ae),se=o(s(he),2),Se=s(se,!0);l(se);var Ye=o(se,2);l(he),l(ae);var Te=o(ae,2),fe=s(Te);me(fe),it(()=>$e(fe,()=>e(a).siml_expired_at,v=>I(a,e(a).siml_expired_at=v))),vt(fe,v=>lt?.(v)),$(2),l(Te),l(re),l(te);var Ne=o(te),d=s(Ne);V(d,{severity:"success",$$events:{click:Lt},children:(v,m)=>{$();var D=k("Simpan");i(v,D)},$$slots:{default:!0}});var h=o(d,2);V(h,{severity:"danger",$$events:{click:_t},children:(v,m)=>{$();var D=k("Batal");i(v,D)},$$slots:{default:!0}}),l(Ne),l(r),N(()=>{x(Z,(e(a),p(()=>e(a).foto?.name??"Pilih Foto"))),x(Ce,(e(a),p(()=>e(a).ktp?.name??"Pilih KTP"))),x(Me,(e(a),p(()=>e(a).sim?.name??"Pilih SIM"))),x(Se,(e(a),p(()=>e(a).siml?.name??"Pilih SIML")))}),$e(w,()=>e(a).nama_personel,v=>I(a,e(a).nama_personel=v)),$e(ke,()=>e(a).no_hp,v=>I(a,e(a).no_hp=v)),R("change",Ke,v=>ce(v,"foto")),R("change",qe,v=>ce(v,"ktp")),R("change",Ge,v=>ce(v,"sim")),R("change",Ye,v=>ce(v,"siml")),i(t,r)},er=t=>{var r=Kr(),c=s(r),w=s(c);V(w,{severity:"success",$$events:{click:Jt},children:(T,ke)=>{$();var S=k("+ Tambah");i(T,S)},$$slots:{default:!0}}),l(c),l(r),i(t,r)};M(Xt,t=>{e(ve)==="add"?t(Zt):t(er,!1)})}l(jt),l(ft);var Nt=o(ft,2);{var tr=t=>{var r=Yr(),c=s(r),w=s(c),T=s(w),ke=s(T,!0);l(T);var S=o(T,2);l(w);var J=o(w,2),B=s(J);{var pe=P=>{var y=qr();N(()=>bt(y,"src",e(Le))),i(P,y)},H=P=>{var y=Gr();N(()=>{bt(y,"src",e(Le)),bt(y,"alt",e(tt))}),i(P,y)};M(B,P=>{e(Le),p(()=>Qt(e(Le)))?P(pe):P(H,!1)})}l(J),l(c),l(r),N(()=>x(ke,e(tt))),R("click",S,Bt),R("click",c,pr(function(P){ur.call(this,yt,P)})),R("click",r,Bt),i(t,r)};M(Nt,t=>{e(ut)&&t(tr)})}var rr=o(Nt,2);{var ar=t=>{var r=Rr(),c=s(r);hr(c,{}),l(r),i(t,r)};M(rr,t=>{e(F)&&t(ar)})}l(ht),i(At,ht),vr()}export{_a as component};
