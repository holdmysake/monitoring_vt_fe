import"../chunks/DsnmJJEf.js";import"../chunks/Dreri0Nc.js";import{p as O,t as U,g as a,b as $,s,c as r,d as l,m as c,r as o}from"../chunks/BA9zlQXs.js";import{e as y}from"../chunks/DEKlhpFx.js";import{f as S,a as _}from"../chunks/D2T3iFuq.js";import{i as q}from"../chunks/5idYV8Eq.js";import{r as w,s as A,a as B}from"../chunks/CN9_JMpm.js";import{b as k}from"../chunks/j0kaSfka.js";import{i as C}from"../chunks/DVSe7J_H.js";import{a as F,n as L,L as G}from"../chunks/DFIjbTXV.js";import{g as H}from"../chunks/CnFgUjgu.js";var K=S('<div class="fixed inset-0 bg-white/70 flex items-center justify-center z-50"><!></div>'),M=S('<div class="min-h-screen flex items-center justify-center"><form class="w-full max-w-sm p-6 rounded-2xl bg-surface-100 shadow-2xl space-y-4"><h2 class="text-xl font-semibold text-center">Login</h2> <div class="space-y-1"><label class="block text-sm">Email atau Username</label> <input rounded="" type="text" placeholder="email atau username" class="w-full input bg-white text-black border border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl"/></div> <div class="space-y-1"><label class="block text-sm">Password</label> <div class="relative"><input placeholder="••••••••" class="w-full input bg-white text-black border border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl pr-10"/> <button type="button" class="absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700"><i></i></button></div></div> <button type="submit" class="w-full btn bg-blue-400 hover:bg-blue-500 text-white">Login</button></form> <!></div>');function se(j,I){O(I,!1);let u=c(!1),d=c(""),m=c(""),i=c(!1);async function P(e){l(u,!0);try{e.preventDefault();const t=await F.login({email:a(d),password:a(m)});localStorage.setItem("token",t.user.token),localStorage.setItem("user",JSON.stringify(t.user)),H("/dashboard",{replaceState:!0}),L?.success("Login berhasil")}catch(t){console.error(t),L?.error(t.message||"Login gagal")}l(u,!1)}C();var b=M(),f=r(b),p=s(r(f),2),h=s(r(p),2);w(h),o(p);var v=s(p,2),x=s(r(v),2),n=r(x);w(n);var g=s(n,2),z=r(g);o(g),o(x),o(v);var D=s(v,2);o(f);var E=s(f,2);{var J=e=>{var t=K(),N=r(t);G(N,{}),o(t),_(e,t)};q(E,e=>{a(u)&&e(J)})}o(b),U(()=>{A(n,"type",a(i)?"text":"password"),B(z,1,`fa-solid ${a(i)?"fa-eye-slash":"fa-eye"}`)}),k(h,()=>a(d),e=>l(d,e)),k(n,()=>a(m),e=>l(m,e)),y("click",g,()=>l(i,!a(i))),y("click",D,P),_(j,b),$()}export{se as component};
