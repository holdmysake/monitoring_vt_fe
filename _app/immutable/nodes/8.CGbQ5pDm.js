import"../chunks/DsnmJJEf.js";import"../chunks/B-aUsau7.js";import{o as ir}from"../chunks/D6pxDlqU.js";import{p as ur,l as ee,a as dr,s as n,f as w,t as T,c as a,g as e,b as pr,m as v,d as o,u as _,r as s,i as Rt,n as J,h as se}from"../chunks/DZj3V7hs.js";import{s as j}from"../chunks/6nlo_wlY.js";import{i as U}from"../chunks/C_Z-GkL4.js";import{e as ge,i as Bt}from"../chunks/DUh4gHIz.js";import{f as p,a as i,c as Ve,t as Oe,b as Fe}from"../chunks/Cmeh_zQv.js";import{b as Lt,a as me,r as $e,L as cr,n as Me}from"../chunks/BymdamYW.js";import{s as Vt}from"../chunks/zgFPYRNL.js";import{e as be}from"../chunks/H2sK6pkz.js";import{b as ke}from"../chunks/CBjS0z1u.js";import{i as vr}from"../chunks/B2kuW2zI.js";import{B as Ae}from"../chunks/DHvCSC1f.js";import{S as fr,T as _r}from"../chunks/xXdRyfTf.js";import{c as gr}from"../chunks/P9oBW4u-.js";import{u as Mt,C as d,P as Ee}from"../chunks/DO2PzLGC.js";var mr=p("<option> </option>"),hr=p("<option> </option>"),xr=p(`<button class="px-3 py-1.5 rounded-lg text-sm font-medium
                        bg-gray-100 hover:bg-gray-200 text-gray-700
                        transition-colors duration-200 flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Reset Filter</button>`),$r=p('<span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> </span>'),br=p('<span><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> </span>'),kr=p('<div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-gray-600">Filter aktif:</span> <!> <!></div>'),yr=p('<span class="text-xs"> </span>'),wr=p('<span class="text-xs"> </span>'),Cr=p("<!> <!>",1),Pr=p("<!> <!>",1),jr=p("<!> <!>",1),Sr=p("<!> <!>",1),Ir=p("<!> <!>",1),Tr=p("<!> <!>",1),Rr=Fe('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Simpan',1),Br=Fe('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Batal',1),Lr=p('<tr class="bg-purple-50"><td class="px-6 py-4"><input type="text" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Nama rute"/></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9.]*" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Jarak (km)"/></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9]*" class="input w-full focus:ring-2 focus:ring-purple-500" placeholder="Buffer"/></td><td class="px-6 py-4 text-center"><span class="text-sm text-gray-600"> </span></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><!> <!></div></td></tr>'),Vr=p("<span> </span>"),Mr=p('<span class="text-gray-400">-</span>'),zr=p('<span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"><svg class="w-3 h-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Ada File</span>'),Or=p('<span class="text-gray-400">-</span>'),Ar=p(`<tr class="hover:bg-gray-50 transition-colors duration-150"><td class="px-6 py-4"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-linear-to-br from-purple-100 to-indigo-200 flex items-center justify-center"><svg class="w-5 h-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <span class="font-medium text-gray-900"> </span></div></td><td class="px-6 py-4"><span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700"> </span></td><td class="px-6 py-4 text-gray-700"> </td><td class="px-6 py-4"><!></td><td class="px-6 py-4 text-gray-700"> </td><td class="px-6 py-4 text-center"><!></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><button class="px-3 py-1.5 rounded-lg
                                            bg-purple-500 hover:bg-purple-600
                                            text-white text-sm font-medium
                                            shadow-sm hover:shadow-md
                                            transition-all duration-200
                                            transform hover:scale-105
                                            flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit</button> <button class="px-3 py-1.5 rounded-lg
                                            bg-red-500 hover:bg-red-600
                                            text-white text-sm font-medium
                                            shadow-sm hover:shadow-md
                                            transition-all duration-200
                                            transform hover:scale-105
                                            flex items-center gap-1"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Hapus</button></div></td></tr>`),Er=p("<!> <!>",1),Fr=p("<!> <!>",1),Nr=p("<!> <!>",1),Hr=p("<!> <!>",1),Dr=p("<!> <!>",1),qr=p("<!> <!>",1),Jr=Fe('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Simpan',1),Ur=Fe('<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Batal',1),Gr=p('<tr class="bg-green-50"><td class="px-6 py-4"><input type="text" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Nama Rute"/></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9.]*" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Jarak"/></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><input type="text" inputmode="decimal" pattern="[0-9]*" class="input w-full focus:ring-2 focus:ring-emerald-500" placeholder="Buffer"/></td><td class="px-6 py-4 text-center"><span class="text-gray-400">-</span></td><td class="px-6 py-4"><div class="flex items-center justify-center gap-2"><!> <!></div></td></tr>'),Kr=p(`<tr><td colspan="7" class="px-6 py-4"><button class="w-full py-3 rounded-lg
                                    bg-linear-to-r from-purple-500 to-indigo-600
                                    hover:from-purple-600 hover:to-indigo-700
                                    text-white font-medium
                                    shadow-md hover:shadow-lg
                                    transition-all duration-200
                                    transform hover:scale-[1.01]
                                    flex items-center justify-center gap-2"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Tambah Rute Baru</button></td></tr>`),Qr=p('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50"><!></div>'),Wr=p('<div class="mb-6"><div class="flex items-center gap-3 mb-2"><div class="w-10 h-10 rounded-xl bg-linear-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg></div> <div><h1 class="text-2xl font-bold text-gray-900">Manajemen Rute</h1> <p class="text-sm text-gray-500">Kelola data rute perjalanan vacuum truck</p></div></div></div> <div class="bg-white rounded-2xl shadow-md p-4 mb-4"><div class="flex flex-col gap-4"><div class="flex items-center justify-between gap-4"><!> <div class="flex items-center gap-2 text-sm text-gray-600"><svg class="w-5 h-5 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg> <span>Total Rute: <strong class="text-gray-900"> </strong></span></div></div> <div class="flex items-center gap-3 flex-wrap"><span class="text-sm font-medium text-gray-700">Filter:</span> <div class="relative"><select class="input pr-8 text-sm focus:ring-2 focus:ring-purple-500 cursor-pointer"><option>Semua Supervisor</option><option>Tanpa Supervisor</option><!></select> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div> <div class="relative"><select class="input pr-8 text-sm focus:ring-2 focus:ring-purple-500 cursor-pointer"><option>Semua Tipe</option><option>Tanpa Tipe</option><!></select> <svg class="absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div> <!></div> <!></div></div> <div class="bg-white rounded-2xl shadow-md overflow-hidden"><div class="overflow-x-auto"><table class="w-full"><thead class="bg-linear-to-r from-purple-500 to-indigo-600 text-white"><tr><th class="px-6 py-4 text-left text-sm font-semibold cursor-pointer select-none hover:bg-purple-600 transition-colors"><div class="flex items-center gap-2">Nama Rute <!></div></th><th class="px-6 py-4 text-left text-sm font-semibold cursor-pointer select-none hover:bg-purple-600 transition-colors"><div class="flex items-center gap-2">Jarak (km) <!></div></th><th class="px-6 py-4 text-left text-sm font-semibold">Supervisor</th><th class="px-6 py-4 text-left text-sm font-semibold">Tipe Rute</th><th class="px-6 py-4 text-left text-sm font-semibold">Buffer</th><th class="px-6 py-4 text-center text-sm font-semibold">File</th><th class="px-6 py-4 text-center text-sm font-semibold">Aksi</th></tr></thead><tbody class="divide-y divide-gray-100"><!><!></tbody></table></div> <div class="border-t border-gray-100 p-4"><!></div></div> <!>',1);function _a(zt,Ot){ur(Ot,!1);const oe=v(),Ne=v(),ye=v(),He=v(),ut=v(),we=v(),Ce=v(),Pe=v();let ne=v(!1),H=[],E=v([]),Y=v([]),F=v([]),le=v(null),je=v(null),u=v(null),te=v(""),Se=v(1),he=v(10),xe=v("nama_rute"),ie=v("asc"),S=v("all"),$=v("all");const dt=t=>{e(xe)===t?o(ie,e(ie)==="asc"?"desc":"asc"):(o(xe,t),o(ie,"asc"))},At=(t,r,l="asc")=>[...t].sort((m,x)=>{let C,c;return r==="jarak"?(C=parseFloat(m?.jarak??0),c=parseFloat(x?.jarak??0)):(C=(m?.[r]??"").toString().toLowerCase(),c=(x?.[r]??"").toString().toLowerCase()),C<c?l==="asc"?-1:1:C>c?l==="asc"?1:-1:0});ir(async()=>{o(ne,!0);try{const t=await me.getRute();o(F,t.rutes??[]),H=(await me.getSupervisor()).users??[],o(E,H)}catch(t){console.error("Error fetching rute data:",t)}finally{o(ne,!1)}});const pt=()=>{o(E,H)},ct=t=>{const r=(t.inputValue??"").toLowerCase(),l=e(Y)?.[0],x=(H.find(c=>String(c.user_id)===String(l))?.nama??"").toLowerCase();if(!r||r===x){o(E,H);return}const C=H.filter(c=>(c.nama??"").toLowerCase().includes(r));o(E,C.length?C:H)},vt=t=>{o(Y,t.value??[]),e(u)&&se(u,e(u).user_id=e(Y)?.[0]?e(Y)[0]:null),o(E,H)},G=[{value:"road",label:"Jalan"},{value:"field",label:"Site"},{value:"traffic",label:"Lalu lintas"}];let D=v(G),ue=v([]);const ft=()=>{o(D,G)},_t=t=>{const r=(t.inputValue??"").toLowerCase();if(!r){o(D,G);return}o(D,G.filter(l=>l.label.toLowerCase().includes(r)))},gt=t=>{o(ue,t.value??[]),e(u)&&se(u,e(u).tipe_rute=e(ue)?.[0]??null),o(D,G)},De=t=>G.find(l=>l.value===t)?.label??"-",Et=t=>{o(le,"edit"),o(je,t.rute_id),o(u,{rute_id:t.rute_id,nama_rute:t.nama_rute??"",jarak:t.jarak??"",user_id:t.user_id??null,tipe_rute:t.tipe_rute??null,buffer:t.buffer??""}),o(Y,e(u).user_id?[String(e(u).user_id)]:[]),o(ue,e(u).tipe_rute?[String(e(u).tipe_rute)]:[]),o(E,H),o(D,G)},qe=()=>{o(le,null),o(je,null),o(u,null),o(Y,[]),o(ue,[]),o(E,H),o(D,G)},mt=async()=>{if(o(ne,!0),!!e(u)){try{const t={rute_id:e(u).rute_id,nama_rute:e(u).nama_rute,jarak:e(u).jarak,user_id:e(u).user_id,tipe_rute:e(u).tipe_rute,buffer:Number(e(u).buffer)};if(e(le)==="edit"){await me.updateRute(t),Me.success("Perubahan rute berhasil disimpan.");const l=(await me.getRuteByID({rute_id:t.rute_id})).rute;o(F,e(F).map(m=>m.rute_id!==l.rute_id?m:{...l}))}else{await me.createRute(t),Me.success("Rute baru berhasil ditambahkan.");const l=(await me.getLastRute()).rute;o(F,[...e(F),l])}}catch(t){Me.error("Gagal menyimpan perubahan rute."),console.error("Error updating rute:",t)}finally{o(ne,!1)}qe()}};async function Ft(t){if(await gr("Hapus data rute ini?","danger")){o(ne,!0);try{await me.deleteRute({rute_id:t}),o(F,e(F).filter(l=>l.rute_id!==t)),Me?.success("Rute berhasil dihapus")}catch(l){console.error("Error deleting rute:",l),Me?.error("Gagal menghapus rute")}finally{o(ne,!1)}}}const Nt=()=>{o(le,"add"),o(je,null),o(u,{nama_rute:"",jarak:"",user_id:null,tipe_rute:null,buffer:""}),o(Y,[]),o(ue,[]),o(E,H),o(D,G)},Ht=()=>{o(S,"all"),o($,"all"),o(te,"")};ee(()=>(e(F),e(te),e(S),e($)),()=>{o(oe,e(F).filter(t=>{const r=e(te).toLowerCase(),l=(t?.nama_rute??"").toLowerCase().includes(r)||(t?.supervisor?.nama??"").toLowerCase().includes(r)||(t?.jarak??"").toString().includes(r)||De(t?.tipe_rute??"").toLowerCase().includes(r),m=e(S)==="all"||e(S)==="none"&&!t.user_id||String(t.user_id)===e(S),x=e($)==="all"||e($)==="none"&&!t.tipe_rute||t.tipe_rute===e($);return l&&m&&x}))}),ee(()=>(e(oe),e(xe),e(ie)),()=>{o(Ne,At(e(oe),e(xe),e(ie)))}),ee(()=>(e(te),e(S),e($)),()=>{(e(te)!==void 0||e(S)!==void 0||e($)!==void 0)&&o(Se,1)}),ee(()=>(e(Se),e(he)),()=>{o(ye,(e(Se)-1)*e(he))}),ee(()=>(e(ye),e(he)),()=>{o(He,e(ye)+e(he))}),ee(()=>(e(Ne),e(ye),e(He)),()=>{o(ut,e(Ne).slice(e(ye),e(He)))}),ee(()=>e(F),()=>{o(we,Array.from(new Set(e(F).filter(t=>t.user_id).map(t=>t.user_id))).map(t=>e(F).find(r=>r.user_id===t)?.supervisor).filter(Boolean))}),ee(()=>e(E),()=>{o(Ce,Mt({items:e(E),itemToString:t=>t.nama,itemToValue:t=>String(t.user_id)}))}),ee(()=>e(D),()=>{o(Pe,Mt({items:e(D),itemToString:t=>t.label,itemToValue:t=>t.value}))}),dr(),vr();var ht=Wr(),Je=n(w(ht),2),xt=a(Je),Ue=a(xt),$t=a(Ue);fr($t,{placeholder:"Cari nama rute, supervisor, tipe...",get value(){return e(te)},set value(t){o(te,t)},$$legacy:!0});var bt=n($t,2),kt=n(a(bt),2),yt=n(a(kt)),Dt=a(yt,!0);s(yt),s(kt),s(bt),s(Ue);var Ge=n(Ue,2),Ke=n(a(Ge),2),Qe=a(Ke);T(()=>{e(S),Rt(()=>{e(we)})});var We=a(Qe);We.value=We.__value="all";var Xe=n(We);Xe.value=Xe.__value="none";var qt=n(Xe);ge(qt,1,()=>e(we),Bt,(t,r)=>{var l=mr(),m=a(l,!0);s(l);var x={};T(C=>{j(m,(e(r),_(()=>e(r).nama))),x!==(x=C)&&(l.value=(l.__value=C)??"")},[()=>(e(r),_(()=>String(e(r).user_id)))]),i(t,l)}),s(Qe),J(2),s(Ke);var Ye=n(Ke,2),Ze=a(Ye);T(()=>{e($),Rt(()=>{})});var et=a(Ze);et.value=et.__value="all";var tt=n(et);tt.value=tt.__value="none";var Jt=n(tt);ge(Jt,1,()=>G,Bt,(t,r)=>{var l=hr(),m=a(l,!0);s(l);var x={};T(()=>{j(m,(e(r),_(()=>e(r).label))),x!==(x=(e(r),_(()=>e(r).value)))&&(l.value=(l.__value=(e(r),_(()=>e(r).value)))??"")}),i(t,l)}),s(Ze),J(2),s(Ye);var Ut=n(Ye,2);{var Gt=t=>{var r=xr();be("click",r,Ht),i(t,r)};U(Ut,t=>{(e(S)!=="all"||e($)!=="all"||e(te)!=="")&&t(Gt)})}s(Ge);var Kt=n(Ge,2);{var Qt=t=>{var r=kr(),l=n(a(r),2);{var m=c=>{var k=$r(),R=n(a(k));s(k),T(O=>j(R,` ${O??""}`),[()=>(e(S),e(we),_(()=>e(S)==="none"?"Tanpa Supervisor":e(we).find(O=>String(O.user_id)===e(S))?.nama))]),i(c,k)};U(l,c=>{e(S)!=="all"&&c(m)})}var x=n(l,2);{var C=c=>{var k=br(),R=n(a(k));s(k),T(O=>{Vt(k,1,`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium
                        ${e($)==="road"?"bg-green-100 text-green-700":e($)==="field"?"bg-amber-100 text-amber-700":e($)==="traffic"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`),j(R,` ${O??""}`)},[()=>(e($),_(()=>e($)==="none"?"Tanpa Tipe":De(e($))))]),i(c,k)};U(x,c=>{e($)!=="all"&&c(C)})}s(r),i(t,r)};U(Kt,t=>{(e(S)!=="all"||e($)!=="all")&&t(Qt)})}s(xt),s(Je);var rt=n(Je,2),at=a(rt),wt=a(at),st=a(wt),Ct=a(st),ze=a(Ct),Pt=a(ze),Wt=n(a(Pt));{var Xt=t=>{var r=yr(),l=a(r,!0);s(r),T(()=>j(l,e(ie)==="asc"?"▲":"▼")),i(t,r)};U(Wt,t=>{e(xe)==="nama_rute"&&t(Xt)})}s(Pt),s(ze);var ot=n(ze),jt=a(ot),Yt=n(a(jt));{var Zt=t=>{var r=wr(),l=a(r,!0);s(r),T(()=>j(l,e(ie)==="asc"?"▲":"▼")),i(t,r)};U(Yt,t=>{e(xe)==="jarak"&&t(Zt)})}s(jt),s(ot),J(5),s(Ct),s(st);var St=n(st),It=a(St);ge(It,1,()=>e(ut),t=>t.rute_id,(t,r)=>{var l=Ve(),m=w(l);{var x=c=>{var k=Lr(),R=a(k),O=a(R);$e(O),s(R);var K=n(R),de=a(K);$e(de),s(K);var Q=n(K),pe=a(Q);d(pe,{class:"w-48",placeholder:"Pilih Supervisor",get collection(){return e(Ce)},onOpenChange:pt,onInputValueChange:ct,onValueChange:vt,get value(){return e(Y)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(f,fe)=>{var y=jr(),N=w(y);d.Control(N,{$$events:{click:()=>e(Ce)?.open?.()},children:(P,h)=>{var g=Cr(),L=w(g);d.Input(L,{class:"focus:ring-2 focus:ring-purple-500"});var V=n(L,2);d.Trigger(V,{}),i(P,g)},$$slots:{default:!0}});var z=n(N,2);Ee(z,{children:(P,h)=>{d.Positioner(P,{children:(g,L)=>{d.Content(g,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(V,Ie)=>{var Z=Ve(),Te=w(Z);ge(Te,1,()=>e(E),A=>A.user_id,(A,_e)=>{d.Item(A,{get item(){return e(_e)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(nt,nr)=>{var Re=Pr(),Be=w(Re);d.ItemText(Be,{children:(it,lr)=>{J();var Le=Oe();T(()=>j(Le,(e(_e),_(()=>e(_e).nama)))),i(it,Le)},$$slots:{default:!0}});var lt=n(Be,2);d.ItemIndicator(lt,{}),i(nt,Re)},$$slots:{default:!0}})}),i(V,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(f,y)},$$slots:{default:!0}}),s(Q);var re=n(Q),ce=a(re);d(ce,{class:"w-48",placeholder:"Pilih Tipe Rute",get collection(){return e(Pe)},onOpenChange:ft,onInputValueChange:_t,onValueChange:gt,get value(){return e(ue)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(f,fe)=>{var y=Tr(),N=w(y);d.Control(N,{$$events:{click:()=>e(Pe)?.open?.()},children:(P,h)=>{var g=Sr(),L=w(g);d.Input(L,{class:"focus:ring-2 focus:ring-purple-500"});var V=n(L,2);d.Trigger(V,{}),i(P,g)},$$slots:{default:!0}});var z=n(N,2);Ee(z,{children:(P,h)=>{d.Positioner(P,{children:(g,L)=>{d.Content(g,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(V,Ie)=>{var Z=Ve(),Te=w(Z);ge(Te,1,()=>e(D),A=>A.value,(A,_e)=>{d.Item(A,{get item(){return e(_e)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(nt,nr)=>{var Re=Ir(),Be=w(Re);d.ItemText(Be,{children:(it,lr)=>{J();var Le=Oe();T(()=>j(Le,(e(_e),_(()=>e(_e).label)))),i(it,Le)},$$slots:{default:!0}});var lt=n(Be,2);d.ItemIndicator(lt,{}),i(nt,Re)},$$slots:{default:!0}})}),i(V,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(f,y)},$$slots:{default:!0}}),s(re);var b=n(re),W=a(b);$e(W),s(b);var B=n(b),X=a(B),ve=a(X,!0);s(X),s(B);var M=n(B),ae=a(M),I=a(ae);Ae(I,{severity:"success",size:"sm",$$events:{click:mt},children:(f,fe)=>{var y=Rr();J(),i(f,y)},$$slots:{default:!0}});var q=n(I,2);Ae(q,{severity:"ghost",size:"sm",$$events:{click:qe},children:(f,fe)=>{var y=Br();J(),i(f,y)},$$slots:{default:!0}}),s(ae),s(M),s(k),T(()=>j(ve,(e(r),_(()=>e(r).path||"-")))),ke(O,()=>e(u).nama_rute,f=>se(u,e(u).nama_rute=f)),ke(de,()=>e(u).jarak,f=>se(u,e(u).jarak=f)),ke(W,()=>e(u).buffer,f=>se(u,e(u).buffer=f)),i(c,k)},C=c=>{var k=Ar(),R=a(k),O=a(R),K=n(a(O),2),de=a(K,!0);s(K),s(O),s(R);var Q=n(R),pe=a(Q),re=a(pe);s(pe),s(Q);var ce=n(Q),b=a(ce,!0);s(ce);var W=n(ce),B=a(W);{var X=h=>{var g=Vr(),L=a(g,!0);s(g),T(V=>{Vt(g,1,`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium
                                        ${e(r),_(()=>e(r).tipe_rute==="road"?"bg-green-100 text-green-700":e(r).tipe_rute==="field"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700")??""}`),j(L,V)},[()=>(e(r),_(()=>De(e(r).tipe_rute)))]),i(h,g)},ve=h=>{var g=Mr();i(h,g)};U(B,h=>{e(r),_(()=>e(r).tipe_rute)?h(X):h(ve,!1)})}s(W);var M=n(W),ae=a(M,!0);s(M);var I=n(M),q=a(I);{var f=h=>{var g=zr();i(h,g)},fe=h=>{var g=Or();i(h,g)};U(q,h=>{e(r),_(()=>e(r).path)?h(f):h(fe,!1)})}s(I);var y=n(I),N=a(y),z=a(N),P=n(z,2);s(N),s(y),s(k),T(()=>{j(de,(e(r),_(()=>e(r).nama_rute))),j(re,`${e(r),_(()=>e(r).jarak)??""} km`),j(b,(e(r),_(()=>e(r).user_id?e(r).supervisor?.nama:"-"))),j(ae,(e(r),_(()=>e(r).buffer||"-")))}),be("click",z,()=>Et(e(r))),be("click",P,()=>Ft(e(r).rute_id)),i(c,k)};U(m,c=>{e(le),e(je),e(r),e(u),_(()=>e(le)==="edit"&&e(je)===e(r).rute_id&&e(u))?c(x):c(C,!1)})}i(t,l)});var er=n(It);{var tr=t=>{var r=Gr(),l=a(r),m=a(l);$e(m),s(l);var x=n(l),C=a(x);$e(C),s(x);var c=n(x),k=a(c);d(k,{class:"w-48",placeholder:"Pilih Supervisor",get collection(){return e(Ce)},onOpenChange:pt,onInputValueChange:ct,onValueChange:vt,get value(){return e(Y)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(b,W)=>{var B=Nr(),X=w(B);d.Control(X,{$$events:{click:()=>e(Ce)?.open?.()},children:(M,ae)=>{var I=Er(),q=w(I);d.Input(q,{class:"focus:ring-2 focus:ring-emerald-500"});var f=n(q,2);d.Trigger(f,{}),i(M,I)},$$slots:{default:!0}});var ve=n(X,2);Ee(ve,{children:(M,ae)=>{d.Positioner(M,{children:(I,q)=>{d.Content(I,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(f,fe)=>{var y=Ve(),N=w(y);ge(N,1,()=>e(E),z=>z.user_id,(z,P)=>{d.Item(z,{get item(){return e(P)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(h,g)=>{var L=Fr(),V=w(L);d.ItemText(V,{children:(Z,Te)=>{J();var A=Oe();T(()=>j(A,(e(P),_(()=>e(P).nama)))),i(Z,A)},$$slots:{default:!0}});var Ie=n(V,2);d.ItemIndicator(Ie,{}),i(h,L)},$$slots:{default:!0}})}),i(f,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(b,B)},$$slots:{default:!0}}),s(c);var R=n(c),O=a(R);d(O,{class:"w-48",placeholder:"Pilih Tipe Rute",get collection(){return e(Pe)},onOpenChange:ft,onInputValueChange:_t,onValueChange:gt,get value(){return e(ue)},multiple:!1,inputBehavior:"autohighlight",openOnClick:!0,children:(b,W)=>{var B=qr(),X=w(B);d.Control(X,{$$events:{click:()=>e(Pe)?.open?.()},children:(M,ae)=>{var I=Hr(),q=w(I);d.Input(q,{class:"focus:ring-2 focus:ring-emerald-500"});var f=n(q,2);d.Trigger(f,{}),i(M,I)},$$slots:{default:!0}});var ve=n(X,2);Ee(ve,{children:(M,ae)=>{d.Positioner(M,{children:(I,q)=>{d.Content(I,{class:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:(f,fe)=>{var y=Ve(),N=w(y);ge(N,1,()=>e(D),z=>z.value,(z,P)=>{d.Item(z,{get item(){return e(P)},class:"px-4 py-2 hover:bg-purple-50 cursor-pointer transition-colors",children:(h,g)=>{var L=Dr(),V=w(L);d.ItemText(V,{children:(Z,Te)=>{J();var A=Oe();T(()=>j(A,(e(P),_(()=>e(P).label)))),i(Z,A)},$$slots:{default:!0}});var Ie=n(V,2);d.ItemIndicator(Ie,{}),i(h,L)},$$slots:{default:!0}})}),i(f,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(b,B)},$$slots:{default:!0}}),s(R);var K=n(R),de=a(K);$e(de),s(K);var Q=n(K,2),pe=a(Q),re=a(pe);Ae(re,{severity:"success",size:"sm",$$events:{click:mt},children:(b,W)=>{var B=Jr();J(),i(b,B)},$$slots:{default:!0}});var ce=n(re,2);Ae(ce,{severity:"ghost",size:"sm",$$events:{click:qe},children:(b,W)=>{var B=Ur();J(),i(b,B)},$$slots:{default:!0}}),s(pe),s(Q),s(r),ke(m,()=>e(u).nama_rute,b=>se(u,e(u).nama_rute=b)),ke(C,()=>e(u).jarak,b=>se(u,e(u).jarak=b)),ke(de,()=>e(u).buffer,b=>se(u,e(u).buffer=b)),i(t,r)},rr=t=>{var r=Kr(),l=a(r),m=a(l);s(l),s(r),be("click",m,Nt),i(t,r)};U(er,t=>{e(le)==="add"?t(tr):t(rr,!1)})}s(St),s(wt),s(at);var Tt=n(at,2),ar=a(Tt);_r(ar,{get totalItems(){return e(oe),_(()=>e(oe).length)},get page(){return e(Se)},set page(t){o(Se,t)},get perPage(){return e(he)},set perPage(t){o(he,t)},$$legacy:!0}),s(Tt),s(rt);var sr=n(rt,2);{var or=t=>{var r=Qr(),l=a(r);cr(l,{}),s(r),i(t,r)};U(sr,t=>{e(ne)&&t(or)})}T(()=>j(Dt,(e(oe),_(()=>e(oe).length)))),Lt(Qe,()=>e(S),t=>o(S,t)),Lt(Ze,()=>e($),t=>o($,t)),be("click",ze,()=>dt("nama_rute")),be("click",ot,()=>dt("jarak")),i(zt,ht),pr()}export{_a as component};
